(async function(){function a(a){return new Promise(b=>setTimeout(b,a))}function b(){var a=[...document.querySelectorAll(`tr[class="sortableTable-row js-statsTableRow"]`)].map(a=>(article={},article.title=a.querySelector("a").innerText,keys=["date","view","read","ratio","fans"],[...a.querySelectorAll("span[class=\"sortableTable-value\"]")].forEach((a,b)=>{article[keys[b]]=a.innerText}),article));switch(console.log(a),window.location.href){case"https://medium.com/me/stats":fname="stats.json";break;default:alert("You are not on the Stories or Stats page on medium");}var b="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a)),c=document.createElement("a");c.setAttribute("href",b),c.setAttribute("download",fname),c.click()}for(OldHeight=0,ContinueCycle=!0;ContinueCycle;)await a(4e3),window.scrollTo(0,document.body.scrollHeight),document.body.scrollHeight===OldHeight?(b(),ContinueCycle=!1):OldHeight=document.body.scrollHeight})();
